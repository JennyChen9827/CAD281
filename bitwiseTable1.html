<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>8‑Bit Mask (p,n) – Quick Guide</title>
  <style>
    :root{
      --bg:#f9fafb;      /* light background */
      --card:#ffffff;    /* white card */
      --text:#111827;    /* dark text */
      --muted:#6b7280;   /* gray-500 */
      --accent:#0ea5e9;  /* sky-500 */
      --good:#059669;    /* green-600 */
      --bad:#dc2626;     /* red-600 */
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    .wrap{max-width:900px;margin:auto;padding:24px}
    .card{background:var(--card);border:1px solid #d1d5db;border-radius:16px;padding:20px;box-shadow:0 4px 15px rgba(0,0,0,.1)}
    h1{font-size:clamp(22px,3vw,32px);margin:0 0 6px}
    h2{font-size:20px;margin:18px 0 8px}
    code,kbd,pre{font-family:ui-monospace,Consolas,Menlo,monospace}
    pre{background:#f3f4f6;border:1px solid #d1d5db;border-radius:12px;padding:14px;overflow:auto}
    .row{display:grid;gap:12px}
    .two{grid-template-columns:1fr 1fr}
    @media (max-width:760px){.two{grid-template-columns:1fr}}

    /* 8-bit strip */
    .bits{display:grid;grid-template-columns:repeat(8,1fr);gap:8px;margin:8px 0 4px}
    .bit{background:#f3f4f6;border:1px solid #d1d5db;border-radius:10px;padding:10px 0;text-align:center}
    .bit small{display:block;color:var(--muted);font-size:12px;margin-top:4px}
    .legend{display:flex;gap:16px;flex-wrap:wrap;color:var(--muted);font-size:14px}
    .tag{padding:2px 8px;border-radius:999px;border:1px solid #d1d5db;background:#f9fafb;color:var(--text)}
    .tag.good{border-color:var(--good)}
    .tag.bad{border-color:var(--bad)}
    .highlight{outline:2px dashed var(--accent);outline-offset:2px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>8‑Bit Mask (p,n) — Simple Cheat‑Sheet</h1>
      <p>We work on a single byte (8 bits). Positions are counted from <strong>right to left</strong>, starting at <strong>0</strong>.</p>

      <div class="bits" aria-label="8-bit positions left to right">
        <div class="bit" title="MSB"><strong>?</strong><small>7 (MSB)</small></div>
        <div class="bit"><strong>?</strong><small>6</small></div>
        <div class="bit"><strong>?</strong><small>5</small></div>
        <div class="bit highlight" title="example highlighted range"><strong>?</strong><small>4</small></div>
        <div class="bit highlight"><strong>?</strong><small>3</small></div>
        <div class="bit highlight"><strong>?</strong><small>2</small></div>
        <div class="bit"><strong>?</strong><small>1</small></div>
        <div class="bit" title="LSB"><strong>?</strong><small>0 (LSB)</small></div>
      </div>
      <div class="legend">
        <span class="tag">Count: 0 → 7 (right to left)</span>
        <span class="tag good">MSB=0 → positive</span>
        <span class="tag bad">MSB=1 → negative</span>
      </div>

      <h2>Mask formula (requested)</h2>
      <pre><code>unsigned int m = 0xFF;              // 11111111 (8 ones)
m = (m &gt;&gt; (8 - n)) &lt;&lt; (p + 1 - n);   // keep n ones, slide to end at position p
unsigned char mask = (unsigned char)m; // final 8-bit mask
</code></pre>

      <p><strong>Valid ranges:</strong> 0 ≤ p ≤ 7, 1 ≤ n ≤ 8, and <em>n ≤ p+1</em> (so the n bits end at <code>p</code> and don’t run past bit 0).
      </p>

      <div class="row two">
        <div>
          <h2>Operations on <code>input</code></h2>
          <pre><code>// S = set these n bits to 1
output = input | mask;

// R = reset (clear) these n bits to 0
output = input &amp; ~mask;

// F = flip (toggle) these n bits
output = input ^ mask;
</code></pre>
        </div>
        <div>
          <h2>Example</h2>
          <pre><code>input = 0x3C;   // 0011 1100
p = 4; n = 3;   // affect bits 4..2
mask = 0x1C;    // 0001 1100
S: 0x3C | 0x1C = 0x3C
R: 0x3C &amp;~0x1C = 0x20
F: 0x3C ^ 0x1C = 0x20
</code></pre>
        </div>
      </div>

      <p class="muted" style="color:var(--muted)">Tip: Build masks in a wider type (e.g., <code>unsigned int</code>) to avoid shift surprises, then cast to <code>unsigned char</code>.</p>
    </div>
  </div>
</body>
</html>
